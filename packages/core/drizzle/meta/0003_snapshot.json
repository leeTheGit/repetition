{
  "id": "1e4861e4-9def-4e26-9455-1d813c4efad4",
  "prevId": "968ef7bc-b744-4b01-9b12-147bc16b3ce5",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "oauth_id": {
          "name": "oauth_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "useraccount_idx": {
          "name": "useraccount_idx",
          "columns": [
            {
              "expression": "user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_user_uuid_user_uuid_fk": {
          "name": "accounts_user_uuid_user_uuid_fk",
          "tableFrom": "accounts",
          "tableTo": "user",
          "columnsFrom": [
            "user_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "accounts_user_uuid_unique": {
          "name": "accounts_user_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_uuid"
          ]
        },
        "accounts_oauth_id_unique": {
          "name": "accounts_oauth_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "oauth_id"
          ]
        }
      }
    },
    "public.asset_log": {
      "name": "asset_log",
      "schema": "",
      "columns": {
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "media_uuid": {
          "name": "media_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resource": {
          "name": "resource",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_attribute": {
          "name": "resource_attribute",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_uuid": {
          "name": "resource_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fk_asset_log_organisation_idx": {
          "name": "fk_asset_log_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_asset_log_created_at_idx": {
          "name": "fk_asset_log_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_asset_log_media_idx": {
          "name": "fk_asset_log_media_idx",
          "columns": [
            {
              "expression": "media_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "asset_log_organisation_uuid_organisation_uuid_fk": {
          "name": "asset_log_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "asset_log",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "asset_log_media_uuid_media_uuid_fk": {
          "name": "asset_log_media_uuid_media_uuid_fk",
          "tableFrom": "asset_log",
          "tableTo": "media",
          "columnsFrom": [
            "media_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.auth_token": {
      "name": "auth_token",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'default'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "one_time": {
          "name": "one_time",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fk_authtoken_token_idx": {
          "name": "fk_authtoken_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auth_token_organisation_uuid_organisation_uuid_fk": {
          "name": "auth_token_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "auth_token",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "auth_token_type_identifier_token_pk": {
          "name": "auth_token_type_identifier_token_pk",
          "columns": [
            "type",
            "identifier",
            "token"
          ]
        }
      },
      "uniqueConstraints": {
        "auth_token_token_unique": {
          "name": "auth_token_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "public.category": {
      "name": "category",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fk_course_category_idx": {
          "name": "fk_course_category_idx",
          "columns": [
            {
              "expression": "course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "category_slug_idx": {
          "name": "category_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "category_course_id_course_uuid_fk": {
          "name": "category_course_id_course_uuid_fk",
          "tableFrom": "category",
          "tableTo": "course",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.collection": {
      "name": "collection",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "collection_slug_idx": {
          "name": "collection_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_collection_organisation_idx": {
          "name": "fk_collection_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "collection_organisation_uuid_organisation_uuid_fk": {
          "name": "collection_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "collection",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.countries": {
      "name": "countries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "iso_numeric": {
          "name": "iso_numeric",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "iso_alpha3": {
          "name": "iso_alpha3",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "is_tax_applicable": {
          "name": "is_tax_applicable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "tax_percent": {
          "name": "tax_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_title": {
          "name": "tax_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.course": {
      "name": "course",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "image_uuid": {
          "name": "image_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "course_slug_idx": {
          "name": "course_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_course_organisation_idx": {
          "name": "fk_course_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_course_user_idx": {
          "name": "fk_course_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_course_image_idx": {
          "name": "fk_course_image_idx",
          "columns": [
            {
              "expression": "image_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "course_organisation_uuid_organisation_uuid_fk": {
          "name": "course_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "course",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "course_user_id_user_uuid_fk": {
          "name": "course_user_id_user_uuid_fk",
          "tableFrom": "course",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "course_image_uuid_media_uuid_fk": {
          "name": "course_image_uuid_media_uuid_fk",
          "tableFrom": "course",
          "tableTo": "media",
          "columnsFrom": [
            "image_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.email_log": {
      "name": "email_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_address": {
          "name": "to_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_name": {
          "name": "to_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_address": {
          "name": "from_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_name": {
          "name": "from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "email_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'html'"
        },
        "isSent": {
          "name": "isSent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fk_emaillog_organisation_idx": {
          "name": "fk_emaillog_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_log_organisation_uuid_organisation_uuid_fk": {
          "name": "email_log_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "email_log",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.email_template": {
      "name": "email_template",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email_id": {
          "name": "email_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "layout_id": {
          "name": "layout_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "email_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'html'"
        },
        "type": {
          "name": "type",
          "type": "email_layout_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'content'"
        },
        "status": {
          "name": "status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "email_slug_idx": {
          "name": "email_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_email_organisation_idx": {
          "name": "fk_email_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_template_organisation_uuid_organisation_uuid_fk": {
          "name": "email_template_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "email_template",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_template_email_id_emails_uuid_fk": {
          "name": "email_template_email_id_emails_uuid_fk",
          "tableFrom": "email_template",
          "tableTo": "emails",
          "columnsFrom": [
            "email_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_template_layout_id_email_template_uuid_fk": {
          "name": "email_template_layout_id_email_template_uuid_fk",
          "tableFrom": "email_template",
          "tableTo": "email_template",
          "columnsFrom": [
            "layout_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.emails": {
      "name": "emails",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "schema": {
          "name": "schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "emails_slug_idx": {
          "name": "emails_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.media": {
      "name": "media",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alt_text": {
          "name": "alt_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "copyright": {
          "name": "copyright",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "filesize": {
          "name": "filesize",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "filetype": {
          "name": "filetype",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "storage_url": {
          "name": "storage_url",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "cdn_url": {
          "name": "cdn_url",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fk_media_organisation_idx": {
          "name": "fk_media_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_organisation_uuid_organisation_uuid_fk": {
          "name": "media_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "media",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.organisation": {
      "name": "organisation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "database_strategy": {
          "name": "database_strategy",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "'shared'::character varying"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reply_email": {
          "name": "reply_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'::character varying"
        },
        "logo": {
          "name": "logo",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "logo_reverse": {
          "name": "logo_reverse",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organisation_logo_media_uuid_fk": {
          "name": "organisation_logo_media_uuid_fk",
          "tableFrom": "organisation",
          "tableTo": "media",
          "columnsFrom": [
            "logo"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "organisation_logo_reverse_media_uuid_fk": {
          "name": "organisation_logo_reverse_media_uuid_fk",
          "tableFrom": "organisation",
          "tableTo": "media",
          "columnsFrom": [
            "logo_reverse"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organisation_domain_unique": {
          "name": "organisation_domain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "domain"
          ]
        }
      }
    },
    "public.permissions": {
      "name": "permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "permissions_slug_idx": {
          "name": "permissions_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_permission_organisation_idx": {
          "name": "fk_permission_organisation_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "permissions_organisation_id_organisation_uuid_fk": {
          "name": "permissions_organisation_id_organisation_uuid_fk",
          "tableFrom": "permissions",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.plan_settings": {
      "name": "plan_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "plan_uuid": {
          "name": "plan_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "userCount": {
          "name": "userCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "storeCount": {
          "name": "storeCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "productCount": {
          "name": "productCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 20
        },
        "assetCount": {
          "name": "assetCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "plan_settings_plan_uuid_plans_uuid_fk": {
          "name": "plan_settings_plan_uuid_plans_uuid_fk",
          "tableFrom": "plan_settings",
          "tableTo": "plans",
          "columnsFrom": [
            "plan_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.plans": {
      "name": "plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "plan_interval": {
          "name": "plan_interval",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'month'"
        },
        "trial_period_days": {
          "name": "trial_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.problem": {
      "name": "problem",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "category_uuid": {
          "name": "category_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "starter_code": {
          "name": "starter_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "test_code": {
          "name": "test_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "answer_code": {
          "name": "answer_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'basic'"
        },
        "link": {
          "name": "link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "image_uuid": {
          "name": "image_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "product_slug_idx": {
          "name": "product_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problem_category_idx": {
          "name": "fk_problem_category_idx",
          "columns": [
            {
              "expression": "category_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problem_topic_idx": {
          "name": "fk_problem_topic_idx",
          "columns": [
            {
              "expression": "topic_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problem_image_idx": {
          "name": "fk_problem_image_idx",
          "columns": [
            {
              "expression": "image_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "problem_category_uuid_category_uuid_fk": {
          "name": "problem_category_uuid_category_uuid_fk",
          "tableFrom": "problem",
          "tableTo": "category",
          "columnsFrom": [
            "category_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "problem_course_id_course_uuid_fk": {
          "name": "problem_course_id_course_uuid_fk",
          "tableFrom": "problem",
          "tableTo": "course",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "problem_topic_id_topic_uuid_fk": {
          "name": "problem_topic_id_topic_uuid_fk",
          "tableFrom": "problem",
          "tableTo": "topic",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "problem_image_uuid_media_uuid_fk": {
          "name": "problem_image_uuid_media_uuid_fk",
          "tableFrom": "problem",
          "tableTo": "media",
          "columnsFrom": [
            "image_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.problem_collection": {
      "name": "problem_collection",
      "schema": "",
      "columns": {
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "collection_uuid": {
          "name": "collection_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "problem_uuid": {
          "name": "problem_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fk_problem_collection_organisation_idx": {
          "name": "fk_problem_collection_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problem_collection_collection_idx": {
          "name": "fk_problem_collection_collection_idx",
          "columns": [
            {
              "expression": "collection_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problemc_ollection_problem_idx": {
          "name": "fk_problemc_ollection_problem_idx",
          "columns": [
            {
              "expression": "problem_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "problem_collection_organisation_uuid_organisation_uuid_fk": {
          "name": "problem_collection_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "problem_collection",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "problem_collection_collection_uuid_collection_uuid_fk": {
          "name": "problem_collection_collection_uuid_collection_uuid_fk",
          "tableFrom": "problem_collection",
          "tableTo": "collection",
          "columnsFrom": [
            "collection_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "problem_collection_problem_uuid_problem_uuid_fk": {
          "name": "problem_collection_problem_uuid_problem_uuid_fk",
          "tableFrom": "problem_collection",
          "tableTo": "problem",
          "columnsFrom": [
            "problem_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "roles_slug_idx": {
          "name": "roles_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_roles_organisation_idx": {
          "name": "fk_roles_organisation_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "roles_organisation_id_organisation_uuid_fk": {
          "name": "roles_organisation_id_organisation_uuid_fk",
          "tableFrom": "roles",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.roles_permissions": {
      "name": "roles_permissions",
      "schema": "",
      "columns": {
        "role_uuid": {
          "name": "role_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_uuid": {
          "name": "permission_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "roles_permissions_role_uuid_roles_uuid_fk": {
          "name": "roles_permissions_role_uuid_roles_uuid_fk",
          "tableFrom": "roles_permissions",
          "tableTo": "roles",
          "columnsFrom": [
            "role_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "roles_permissions_permission_uuid_permissions_uuid_fk": {
          "name": "roles_permissions_permission_uuid_permissions_uuid_fk",
          "tableFrom": "roles_permissions",
          "tableTo": "permissions",
          "columnsFrom": [
            "permission_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "roles_permissions_pkey": {
          "name": "roles_permissions_pkey",
          "columns": [
            "role_uuid",
            "permission_uuid"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_user_id_user_uuid_fk": {
          "name": "session_user_id_user_uuid_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.submission": {
      "name": "submission",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "problem_uuid": {
          "name": "problem_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "solution": {
          "name": "solution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grade": {
          "name": "grade",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_at": {
          "name": "next_review_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fk_user_schedule_idx": {
          "name": "fk_user_schedule_idx",
          "columns": [
            {
              "expression": "user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problem_schedule_idx": {
          "name": "fk_problem_schedule_idx",
          "columns": [
            {
              "expression": "problem_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_submitted_schedule_idx": {
          "name": "fk_submitted_schedule_idx",
          "columns": [
            {
              "expression": "submitted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submission_user_uuid_user_uuid_fk": {
          "name": "submission_user_uuid_user_uuid_fk",
          "tableFrom": "submission",
          "tableTo": "user",
          "columnsFrom": [
            "user_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_problem_uuid_problem_uuid_fk": {
          "name": "submission_problem_uuid_problem_uuid_fk",
          "tableFrom": "submission",
          "tableTo": "problem",
          "columnsFrom": [
            "problem_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.topic": {
      "name": "topic",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "image_uuid": {
          "name": "image_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_seeded": {
          "name": "is_seeded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fk_course_topic_idx": {
          "name": "fk_course_topic_idx",
          "columns": [
            {
              "expression": "course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "topic_slug_idx": {
          "name": "topic_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_topic_image_idx": {
          "name": "fk_topic_image_idx",
          "columns": [
            {
              "expression": "image_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "topic_course_id_course_uuid_fk": {
          "name": "topic_course_id_course_uuid_fk",
          "tableFrom": "topic",
          "tableTo": "course",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "topic_image_uuid_media_uuid_fk": {
          "name": "topic_image_uuid_media_uuid_fk",
          "tableFrom": "topic",
          "tableTo": "media",
          "columnsFrom": [
            "image_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.useage": {
      "name": "useage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "plan_uuid": {
          "name": "plan_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_count": {
          "name": "asset_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "asset_storage_size": {
          "name": "asset_storage_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "useage_plan_uuid_plans_uuid_fk": {
          "name": "useage_plan_uuid_plans_uuid_fk",
          "tableFrom": "useage",
          "tableTo": "plans",
          "columnsFrom": [
            "plan_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "useage_organisation_uuid_organisation_uuid_fk": {
          "name": "useage_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "useage",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.user_problem": {
      "name": "user_problem",
      "schema": "",
      "columns": {
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "problem_uuid": {
          "name": "problem_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "grade": {
          "name": "grade",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "solution": {
          "name": "solution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_at": {
          "name": "next_review_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fk_problemcollection_organisation_idx": {
          "name": "fk_problemcollection_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_user_problem_idx": {
          "name": "fk_user_problem_idx",
          "columns": [
            {
              "expression": "user_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_problem_idx": {
          "name": "fk_problem_idx",
          "columns": [
            {
              "expression": "problem_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_problem_organisation_uuid_organisation_uuid_fk": {
          "name": "user_problem_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "user_problem",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_problem_user_uuid_user_uuid_fk": {
          "name": "user_problem_user_uuid_user_uuid_fk",
          "tableFrom": "user_problem",
          "tableTo": "user",
          "columnsFrom": [
            "user_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_problem_problem_uuid_problem_uuid_fk": {
          "name": "user_problem_problem_uuid_problem_uuid_fk",
          "tableFrom": "user_problem",
          "tableTo": "problem",
          "columnsFrom": [
            "problem_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "organisation_uuid": {
          "name": "organisation_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "firstname": {
          "name": "firstname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "lastname": {
          "name": "lastname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emailVerified": {
          "name": "emailVerified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_id": {
          "name": "profile_image_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hashed_password": {
          "name": "hashed_password",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_two_factor_enabled": {
          "name": "is_two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "remember_token": {
          "name": "remember_token",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_loggedin": {
          "name": "last_loggedin",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "email_idx": {
          "name": "email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fk_users_organisation_idx": {
          "name": "fk_users_organisation_idx",
          "columns": [
            {
              "expression": "organisation_uuid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_organisation_uuid_organisation_uuid_fk": {
          "name": "user_organisation_uuid_organisation_uuid_fk",
          "tableFrom": "user",
          "tableTo": "organisation",
          "columnsFrom": [
            "organisation_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_profile_image_id_media_uuid_fk": {
          "name": "user_profile_image_id_media_uuid_fk",
          "tableFrom": "user",
          "tableTo": "media",
          "columnsFrom": [
            "profile_image_id"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.users_permissions": {
      "name": "users_permissions",
      "schema": "",
      "columns": {
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_uuid": {
          "name": "permission_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_permissions_user_uuid_user_uuid_fk": {
          "name": "users_permissions_user_uuid_user_uuid_fk",
          "tableFrom": "users_permissions",
          "tableTo": "user",
          "columnsFrom": [
            "user_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "users_permissions_permission_uuid_permissions_uuid_fk": {
          "name": "users_permissions_permission_uuid_permissions_uuid_fk",
          "tableFrom": "users_permissions",
          "tableTo": "permissions",
          "columnsFrom": [
            "permission_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "users_permissions_pkey": {
          "name": "users_permissions_pkey",
          "columns": [
            "user_uuid",
            "permission_uuid"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "public.users_roles": {
      "name": "users_roles",
      "schema": "",
      "columns": {
        "user_uuid": {
          "name": "user_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_uuid": {
          "name": "role_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_roles_user_uuid_user_uuid_fk": {
          "name": "users_roles_user_uuid_user_uuid_fk",
          "tableFrom": "users_roles",
          "tableTo": "user",
          "columnsFrom": [
            "user_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "users_roles_role_uuid_roles_uuid_fk": {
          "name": "users_roles_role_uuid_roles_uuid_fk",
          "tableFrom": "users_roles",
          "tableTo": "roles",
          "columnsFrom": [
            "role_uuid"
          ],
          "columnsTo": [
            "uuid"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "users_roles_pkey": {
          "name": "users_roles_pkey",
          "columns": [
            "user_uuid",
            "role_uuid"
          ]
        }
      },
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "public.email_type": {
      "name": "email_type",
      "schema": "public",
      "values": [
        "html",
        "markdown",
        "text"
      ]
    },
    "public.email_layout_type": {
      "name": "email_layout_type",
      "schema": "public",
      "values": [
        "layout",
        "content"
      ]
    },
    "public.type": {
      "name": "type",
      "schema": "public",
      "values": [
        "basic",
        "code",
        "multi-choice",
        "written-answer",
        "math"
      ]
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}